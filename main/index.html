<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>大非车赋能</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1 class="no-wrap-title">大非车云赋能 002</h1>
    <div class="button-container">
        <div class="button" id="showInsuranceList">云险种</div>
        <div class="button" id="showQuote">云报价</div>
       <div class="button" id="showNotification">云通知</div>
        <div class="button" id="showQuery">云查询</div>
    </div>
    <script type="module">
        import { isLoggedIn, redirectToLogin } from './auth.js';
        sessionStorage.setItem('fromIndex', 'true'); // 设置标记

        document.addEventListener('DOMContentLoaded', function() {
            const showInsuranceListButton = document.getElementById('showInsuranceList');
            showInsuranceListButton.addEventListener('click', function() {
              checkAndRedirect("insurance_types/insurance_list.html")
            });
          const showQuoteButton = document.getElementById('showQuote');
          showQuoteButton.addEventListener('click', function () {
             checkAndRedirect("quotation/index.html")
           });
            const showNotificationButton = document.getElementById('showNotification');
            showNotificationButton.addEventListener('click', function() {
                 checkAndRedirect("notification.html")
             });

            const showQueryButton = document.getElementById('showQuery');
            showQueryButton.addEventListener('click', function () {
                checkAndRedirect("query.html")
            });

        });
      function checkAndRedirect(url){
         if(!isLoggedIn()){
          redirectToLogin(url);
          return;
         }
          window.location.href= url
       }
    </script>
</body>
</html>